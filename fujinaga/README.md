# 入力したそれぞれの金額の消費税を求めるプログラム

## もくじ

<!-- TOC -->

- [入力したそれぞれの金額の消費税を求めるプログラム](#入力したそれぞれの金額の消費税を求めるプログラム)
    - [もくじ](#もくじ)
    - [プログラムに用いた要素](#プログラムに用いた要素)
    - [実行結果](#実行結果)
    - [コメント付きプログラム](#コメント付きプログラム)
        - [解説](#解説)
    - [提出用ソースコード](#提出用ソースコード)

<!-- /TOC -->

## プログラムに用いた要素

* 繰り返し
* 配列
* 関数

## 実行結果

```
商品の個数は？
5
 1 : 100
 2 : 320
 3 : 550
 4 : 1000
 5 : 240
---------------------------
 1 : 108円（税 8円）
 2 : 345円（税 25円）
 3 : 594円（税 44円）
 4 : 1080円（税 80円）
 5 : 259円（税 19円）
```

> 負の価格を指定した場合は結果が表示されない

```
商品の個数は？
5
 1 : 100
 2 : -500
 3 : 360
 4 : 650
 5 : 1080
---------------------------
 1 : 108円（税 8円）
 3 : 388円（税 28円）
 4 : 702円（税 52円）
 5 : 1166円（税 86円）
```

## コメント付きプログラム

```c
/**
 * 入力した値に消費税を加えるプログラム
 */
#include <stdio.h>

// 消費税を加える関数
// tax( 元値の配列 , 消費税を加えた値段を格納する配列 , 消費税率 )
void tax(int *original, int *price, double rate) {
    int i = 0;

    while(1) {
        // 元値が0の要素があればループを抜ける
        if(original[i] == 0) {
            break;
        }
        // 元値が0より大きければ消費税を計算
        if(original[i] > 0) {
            // 消費税を加える
            price[i] = (int)(original[i] * (1.0 + rate));
        }

        i++;
    }
}

int main(void) {
    // 元値の配列
    int original[100];
    // 消費税を加えた売値の配列
    int price[100];
    // 値段の個数
    int number;
    // その他の変数
    int i;

    printf("商品の個数は？\n");
    scanf("%d", &number);

    for(i = 0; i < number; i++) {
        printf("%2d : ", i + 1);
        scanf("%d", &original[i]);
    }

    // 末尾を示すために0を代入
    original[number] = 0;

    // 消費税を計算
    tax(original, price, 0.08);

    // 仕切り線
    printf("---------------------------\n");

    // 結果を出力
    for(i = 0; i < number; i++) {
        // 価格が0円の商品は表示しない
        if(price[i] == 0) {
            continue;
        }
        printf("%2d : %d円（税 %d円）\n", i + 1, price[i], price[i] - original[i]);
    }

    return 0;
}
```

### 解説

* `break`はループから抜ける、`continue`はループをスキップする

* `(int)(original[i] * (1.0 + rate))`は、型変換が何回か行われている
    1. `(1.0 + rate)`は`double + double`なので`double`型になる
    2. `(original[i] * (1.0 + rate))`は`int double`なので`double`型になる
    3. 格納するのは`int`型の配列だから、最後に`(int)( ... )`として`int`型にする（この時小数点以下は切り捨てられる）

## 提出用ソースコード

[ハイライトされたプログラム](./program.c)

[プログラムのみ](https://raw.githubusercontent.com/simochee/c-unit-recognition/master/fujinaga/program.c)
